<?xml version="1.0"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from yaskawa7.urdf.xacro               | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="conveyor_belt_dof1" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Import Rviz colors -->
    <material name="green">
      <color rgba="0.0 1.0 0.0 1.0"/>
    </material>
    <material name="blue">
      <color rgba="0.0 0.0 1.0 1.0"/>
    </material>
    <material name="red">
      <color rgba="1.0 0.0 0.0 1.0"/>
    </material>
    <material name="white">
      <color rgba="1.0 1.0 1.0 1.0"/>
    </material>

    <!-- LINKS -->
    <!-- virtual link interfacing with ee_mount on robot arm-->
    <link name="ee_base">
      <visual>
        <geometry>
          <box size="0.1 0.1 0.1"/>
        </geometry>
        <origin rpy="0 0 0" xyz="0.055 0 -0.1"/>
      </visual>
    </link>

    <!-- links of cylinder base connected with the ee_base -->
    <!-- visual only? -->
    <!-- <link name="conveyor_belt_dof1_link">
      <inertial>
        <mass value="1.2"/>
        <origin xyz="0 0 0"/>
        <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
      </inertial>
      <visual>
        <material name="white"/>
        <geometry>
          <mesh filename="../mesh/cbee_gripper_1st-collision.obj" />
        </geometry>
        <origin rpy="0 0 3.14" xyz="0.55 0 -0.1"/>
      </visual>
    </link> -->

    <link name="pusher_link">
      <visual>
        <material name="green"/>
        <origin xyz="0.3 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.01 0.5 0.2"/>
        </geometry>
      </visual>
      <collision>
        <origin xyz="0.3 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.1 0.5 0.2"/>
        </geometry>
      </collision>
    </link>

    <link name="puller_link">
      <visual>
        <material name="blue"/>
        <origin xyz="0.5 0 -0.15" rpy="0 0 0"/>
        <geometry>
          <box size="0.4 0.5 0.01"/>
        </geometry>
      </visual>
      <collision>   
        <origin xyz="0.5 0 -0.15" rpy="0 0 0"/>
        <geometry>
          <box size="0.4 0.5 0.1"/>
        </geometry>
      </collision>
    </link>

     <!-- virtual link, equivlent of TCP (Tool Center Point) -->
    <link name="whisker_right_link">
      <inertial>
        <mass value="0.1"/>
        <origin xyz="0 0 0"/>
        <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
      </inertial>
      <visual>
        <material name="red"/>
        <geometry>
          <box size="0.33 0.39 0.003"/> <!-- Approximation of whiskers -->
          <!-- <mesh filename="../mesh/CBEE_v4_whisker_drake.obj" /> -->
        </geometry>
        <origin rpy="1.57 0 0" xyz="0 -0.275 0.15"/>
      </visual>
      <collision>
        <geometry>
          <box size="0.33 0.39 0.003"/> <!-- Approximation of whiskers -->
          <!-- <mesh filename="../mesh/CBEE_v4_whisker_drake.obj" /> -->
        </geometry>
        <origin rpy="1.57 0 0" xyz="0 -0.275 0.15"/>
      </collision>
    </link>

    <link name="whisker_left_link">
      <inertial>
        <mass value="0.1"/>
        <origin xyz="0 0 0"/>
        <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
      </inertial>
      <visual>
        <material name="blue"/>
        <geometry>
          <box size="0.33 0.39 0.003"/> <!-- Approximation of whiskers -->
          <!-- <mesh filename="../mesh/CBEE_v4_whisker_drake.obj" /> -->
        </geometry>
        <origin rpy="1.57 0 0" xyz="0 0.275 0.15"/>
      </visual>
      <collision>
        <geometry>
          <box size="0.33 0.39 0.003"/> <!-- Approximation of whiskers -->
          <!-- <mesh filename="../mesh/CBEE_v4_whisker_drake.obj" /> -->
        </geometry>
        <origin rpy="1.57 0 0" xyz="0 0.275 0.15"/>
      </collision>
    </link>


    <!-- frame, equivlent of TCP (Tool Center Point) -->
    <frame link="ee_base" name="ee_tip_0" rpy="0 0 0" xyz="0.54 0 0"/>

    <!-- END LINKS -->

    <!-- JOINTS -->
    <!-- virtual joint, interfacing with arm -->
    <!-- <joint name="ee_base_joint" type="fixed">
      <parent link="ee_mount"/>
      <child link="ee_base"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </joint> -->

    <joint name="pusher_joint" type="prismatic">
      <parent link="ee_base"/>
      <child link="pusher_link"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </joint>

    <joint name="puller_joint" type="prismatic">
      <parent link="ee_base"/>
      <child link="puller_link"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </joint>

    <!-- joint whisker right -->
    <joint name="whisker_right_joint" type="revolute">
      <parent link="ee_base"/>
      <child link="whisker_right_link"/>
      <origin xyz="0.35 0 0" rpy="0 0 0"/>
    </joint>
    <!-- joint whisker left -->
    <joint name="whisker_left_joint" type="revolute">
      <parent link="ee_base"/>
      <child link="whisker_left_link"/>
      <origin xyz="0.35 0 0" rpy="0 0 0"/>
    </joint>
    <!-- END JOINTS -->

    <!-- virtual joint, connect ee_base to various link in end effector -->
    <!-- <joint name="conveyor_belt_dof1_joint" type="fixed">
      <parent link="ee_base"/>
      <child link="conveyor_belt_dof1_link"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    </joint> -->


    <!-- END JOINTS -->

  <!--Extensions -->
  <!-- Load Gazebo lib and set the robot namespace -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_controller">
      <robotNamespace>/yaskawa_ee</robotNamespace>
    </plugin>
  </gazebo>
  <!-- Link0 -->
  <gazebo reference="ee_base">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link0 -->
  <!-- <gazebo reference="conveyor_belt_dof1_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>   -->

  <!-- Link0 -->
  <gazebo reference="whisker_right_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>  
  <!-- Link0 -->
  <gazebo reference="whisker_left_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link0 -->
  <gazebo reference="ee_tip_0">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>

<!-- <transmission name="yaskawa_tran_1">
    <robotNamespace>/yaskawa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="ee_base_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="yaskawa_motor_1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission> -->

  <transmission name="pusher_tran">
    <robotNamespace>/yaskawa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="pusher_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="yaskawa_motor_1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>


  <transmission name="puller_tran">
    <robotNamespace>/yaskawa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="puller_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="yaskawa_motor_2">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="yaskawa_ee_1">
    <robotNamespace>/yaskawa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="whisker_right_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="yaskawa_motor_3">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="yaskawa_ee_2">
    <robotNamespace>/yaskawa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="whisker_left_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="yaskawa_motor_4">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

</robot>

